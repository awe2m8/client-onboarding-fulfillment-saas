<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sprints</title>
    <link rel="stylesheet" href="sprints.css" />
    <link rel="stylesheet" href="ui-tokens.css" />
  </head>
  <body>
    <div class="sp-glow sp-glow-left" aria-hidden="true"></div>
    <div class="sp-glow sp-glow-right" aria-hidden="true"></div>

    <header class="sp-header">
      <div>
        <p class="sp-eyebrow">Workspace App</p>
        <h1>Sprints</h1>
        <p>Plan two-week blocks, track Jesse and Giles goals, and close with a retro.</p>
      </div>
      <nav class="sp-nav" aria-label="App navigation">
        <a class="sp-link" href="/">App Launcher</a>
        <a class="sp-link" href="/onboarding.html">Onboarding</a>
        <a class="sp-link" href="/project-management.html">Project Management</a>
      </nav>
    </header>

    <main class="sp-shell">
      <section class="sp-panel sp-top-panel">
        <div class="sp-panel-collapse-head">
          <h2>Sprint Planning and Snapshot</h2>
          <button
            id="sprintTopToggleBtn"
            class="sp-panel-toggle-btn"
            type="button"
            aria-expanded="false"
            aria-controls="sprintTopContent"
          >
            <span class="sp-panel-toggle-icon">▾</span>
          </button>
        </div>
        <div id="sprintTopContent" class="sp-collapsible-content is-collapsed">
          <div class="sp-top-grid">
            <section class="sp-subpanel">
              <h3>Create Sprint</h3>
              <form id="sprintForm" class="sp-form">
                <label>
                  Sprint Name
                  <input name="name" type="text" required placeholder="Sprint 01 - Ops Alignment" />
                </label>
                <label>
                  Stage
                  <select name="stageId">
                    <option value="planning">Planning</option>
                    <option value="in-sprint">In Sprint</option>
                    <option value="review">Review &amp; Retro</option>
                    <option value="completed">Completed</option>
                  </select>
                </label>
                <label>
                  Start Date
                  <input id="startDateInput" name="startDate" type="date" required />
                </label>
                <label>
                  End Date
                  <input id="endDateInput" name="endDate" type="date" required />
                </label>
                <label class="sp-form-span-2">
                  Overall Objectives
                  <textarea name="overallGoals" placeholder="Top outcomes for this two-week sprint block."></textarea>
                </label>
                <div class="sp-form-actions sp-form-span-2">
                  <button type="submit">Create Sprint</button>
                  <button id="seedSprintsBtn" type="button" class="sp-ghost">Load Demo Sprint</button>
                  <button id="clearSprintsBtn" type="button" class="sp-danger">Clear All Sprints</button>
                </div>
              </form>
              <p class="sp-hint">Target cadence is 14 days per sprint block.</p>
            </section>

            <section class="sp-subpanel">
              <h3>Sprint Snapshot</h3>
              <div class="sp-metric-grid">
                <article><span id="metricTotalSprints">0</span><small>Total Sprints</small></article>
                <article><span id="metricPlanningSprints">0</span><small>Planning</small></article>
                <article><span id="metricActiveSprints">0</span><small>In Sprint</small></article>
                <article><span id="metricReviewSprints">0</span><small>Review &amp; Retro</small></article>
                <article><span id="metricCompletedSprints">0</span><small>Completed</small></article>
                <article><span id="metricOpenGoals">0</span><small>Open Goals</small></article>
              </div>
            </section>
          </div>
        </div>
      </section>

      <section class="sp-panel sp-board-panel">
        <div class="sp-panel-collapse-head">
          <h2>Sprint Board</h2>
          <button
            id="sprintBoardToggleBtn"
            class="sp-panel-toggle-btn"
            type="button"
            aria-expanded="true"
            aria-controls="sprintBoardContent"
          >
            <span class="sp-panel-toggle-icon">▾</span>
          </button>
        </div>
        <div id="sprintBoardContent" class="sp-collapsible-content">
          <p class="sp-panel-note">Drag sprint cards between stages as the block progresses.</p>
          <div id="sprintBoard" class="sp-board"></div>
        </div>
      </section>

      <section class="sp-panel sp-detail-panel">
        <div class="sp-panel-collapse-head">
          <h2>Sprint Detail</h2>
          <button
            id="sprintDetailToggleBtn"
            class="sp-panel-toggle-btn"
            type="button"
            aria-expanded="true"
            aria-controls="sprintDetailContent"
          >
            <span class="sp-panel-toggle-icon">▾</span>
          </button>
        </div>
        <div id="sprintDetailContent" class="sp-collapsible-content">
          <div id="sprintDetail" class="sp-detail-empty">
            Select a sprint card to manage objectives, Jesse/Giles goals, and retro notes.
          </div>
        </div>
      </section>

      <section class="sp-panel sp-sync-panel">
        <div class="sp-panel-collapse-head">
          <h2>Team Sync</h2>
          <button
            id="sprintSyncToggleBtn"
            class="sp-panel-toggle-btn"
            type="button"
            aria-expanded="false"
            aria-controls="sprintSyncContent"
          >
            <span class="sp-panel-toggle-icon">▾</span>
          </button>
        </div>
        <div id="sprintSyncContent" class="sp-collapsible-content is-collapsed">
          <div class="sp-sync-grid">
            <label>
              API URL
              <input id="apiUrlInput" type="url" placeholder="https://your-api.onrender.com" />
            </label>
            <label>
              Workspace Key
              <input id="workspaceKeyInput" type="text" placeholder="allconvos-onboarding" />
            </label>
            <button id="saveSyncBtn" type="button" class="sp-ghost">Save Connection</button>
            <button id="pullSharedBtn" type="button">Pull Shared Data</button>
            <button id="pushSharedBtn" type="button" class="sp-ghost">Push Local Data</button>
            <label class="sp-inline-toggle">
              <input id="autoSyncCheckbox" type="checkbox" />
              Auto sync (push on change + pull every 15s)
            </label>
          </div>
          <p id="syncStatus" class="sp-sync-status">Local only. Set API URL and workspace key to share data.</p>
        </div>
      </section>
    </main>

    <script src="sprints.js"></script>
  </body>
</html>
